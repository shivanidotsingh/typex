    :root{
      --bg:#ffffff;
      --fg:#000000;
      --muted:#333333;
      --line:#000000;
      --ui: 12px;
      --panel-bg:#f4f4f4;
      --input-bg:#ffffff;
    }

    *{ box-sizing:border-box; }
    html, body { height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Arial, sans-serif;
      background: var(--bg);
      color: var(--fg);
      overflow:hidden;
    }

    /* Stage */
    .stage{
      position:relative;
      width:100vw;
      height:100vh;
      overflow:hidden;
      background:
        repeating-linear-gradient(
          0deg,
          rgba(0,0,0,0.05),
          rgba(0,0,0,0.05) 1px,
          transparent 1px,
          transparent 18px
        );
    }

    canvas{ width:100%; height:100%; display:block; }

    /* Web-1.0 "toolbar" area: textbox + tiny controls addendum beneath */
    .uiDock{
      position:absolute;
      top: 10px;
      left: 10px;
      width: min(740px, calc(100vw - 20px));
      z-index: 5;
    }

    .textInput{
      width: 100%;
      min-height: 44px;
      max-height: 140px;
      padding: 6px 7px;
      font-size: 14px;
      line-height: 1.25;
      color: var(--fg);
      background: var(--input-bg);
      border: 1px solid var(--line);
      border-radius: 0;
      outline: none;
      resize: vertical;
      box-shadow: none;
    }

    .miniPanel{
      margin-top: 6px;
      border: 1px solid var(--line);
      border-radius: 0;
      background: var(--panel-bg);
      padding: 6px 7px;
      font-size: var(--ui);
      box-shadow:none;
    }

    .miniRow{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }

    .miniRow + .miniRow{
      margin-top: 6px;
      padding-top: 6px;
      border-top: 1px dotted rgba(0,0,0,0.5);
    }

    .btn{
      font: inherit;
      padding: 2px 6px;
      border: 1px solid var(--line);
      background: #e9e9e9;
      border-radius: 0;
      cursor:pointer;
      line-height: 1.2;
    }
    .btn:active{ background:#dcdcdc; }
    .btn.active{
      background:#ffffff;
      font-weight:600;
    }

    /* collapse arrow at the side */
    .collapseArrow{
      margin-left:auto;
      font: inherit;
      padding: 0 6px;
      height: 18px;
      border: 1px solid var(--line);
      background: #e9e9e9;
      border-radius: 0;
      cursor:pointer;
      line-height: 16px;
      user-select:none;
    }

    .controlsGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 6px 10px;
      align-items:center;
    }

    .ctrl{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      min-width: 240px;
    }

    .ctrl span{
      white-space:nowrap;
    }

    input[type="range"]{
      width: 160px;
      height: 16px;
    }

    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      color: var(--muted);
    }

    /* "inactive until mouse off" */
    .locked{
      opacity: 0.55;
    }
    .locked input[type="range"]{
      cursor:not-allowed;
    }

    .miniHint{
      color: var(--muted);
      font-size: 11px;
      line-height: 1.25;
    }

    .collapsed .controlsArea{
      display:none;
    }

    /* bottom-left tiny status line (optional) */
    .status{
      position:absolute;
      left: 10px;
      bottom: 10px;
      border: 1px solid var(--line);
      background: #f4f4f4;
      padding: 4px 6px;
      font-size: 11px;
      z-index: 4;
    }
